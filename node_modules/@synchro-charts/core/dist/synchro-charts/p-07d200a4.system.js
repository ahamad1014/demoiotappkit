var __spreadArrays=this&&this.__spreadArrays||function(){for(var r=0,t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;for(var e=Array(r),a=0,t=0;t<n;t++)for(var i=arguments[t],u=0,f=i.length;u<f;u++,a++)e[a]=i[u];return e};System.register(["./p-dd4ea63a.system.js","./p-e64405a4.system.js","./p-cba1ca58.system.js","./p-7d965fb9.system.js","./p-a7a3e5e7.system.js","./p-cbd64063.system.js"],(function(r){"use strict";var t,n,e,a,i,u,f;return{setters:[function(r){t=r.D},function(r){n=r.S},function(r){e=r.a},function(r){a=r.a},function(r){i=r.p;u=r.g},function(r){f=r.g}],execute:function(){var s=r("s",(function(r){return function(t,n){if(t.point==null&&n.point==null){return 0}if(t.point==null){return-1}if(n.point==null){return 1}if(r(t.point)===r(n.point)){return 0}return r(n.point)>r(t.point)?1:-1}}));var l=r("c",(function(r,n,e,a){var u=i.left(r,n);var f=r[u-1];var s=r[u];if(f&&f.x===n.getTime()){return f}if(s&&s.x===n.getTime()){return s}if(e===t.RIGHT){if(!s){return undefined}if(a==null){return s}return s.x-n.getTime()<=a?s:undefined}if(e===t.LEFT){if(!f){return undefined}if(a==null){return f}return n.getTime()-f.x<=a?f:undefined}if(!f||!s){return f||s}return s}));var o=r("a",(function(r){var t=r.viewport,n=r.dataStreams,e=r.selectedDate,a=r.allowMultipleDates,i=r.dataAlignment,o=r.maxDurationFromDate;var d=n.map((function(r){return{streamId:r.id,dataPoints:u(f(r,r.resolution),t.end)}}));var v=e.getTime();var c=d.map((function(r){var t=r.streamId,n=r.dataPoints;return{streamId:t,point:l(n,e,i,o)}}));if(a){return c}var m=function(r){return Math.abs(r.x-v)};var p=c.sort(s(m));if(p.length===0){return[]}var y=p[p.length-1].point;if(y==null){return p}return p.filter((function(r){return r.point&&r.point.x===y.x}))}));var d=function(r,t){if(r==null){return t}if(r.severity==null&&t.severity==null){return r}if(r.severity==null){return t}if(t.severity==null){return r}return r.severity<=t.severity?r:t};var v=function(r){return r.reduce(d,undefined)};var c=function(r,t){var n=r.dataStreamIds;if(n==null){return true}return n.includes(t)};var m=function(r){var i=r.date,u=r.dataStream,f=r.dataStreams,s=r.thresholds;var o=u.associatedStreams!=null?u.associatedStreams.filter((function(r){var t=r.type;return t===n.ALARM})).map((function(r){var t=r.id;return t})):[];var d=function(r){return o.includes(r.id)};var v=f.filter(d);var m=v.map((function(r){var n=s.filter((function(t){return c(t,r.id)}));var a=l(r.data,i,t.LEFT);return a!=null?e(a.y,n):undefined})).filter(a);return m};var p=r("b",(function(r){var t=r.value,n=r.date,i=r.thresholds,u=r.dataStreams,f=r.dataStream;var s=i.filter((function(r){return c(r,f.id)}));var l=t!=null?e(t,s):undefined;var o=m({date:n,dataStream:f,dataStreams:u,thresholds:i});return v(__spreadArrays([l],o).filter(a))}))}}}));