var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),a=0,r=0;r<t;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n};System.register(["./p-1240cdf3.system.js","./p-dd4ea63a.system.js","./p-e64405a4.system.js","./p-d184cbbe.system.js","./p-594ff8b8.system.js","./p-22e300c7.system.js"],(function(e){"use strict";var r,t,n,a,i,o,s;return{setters:[function(e){r=e.r;t=e.h},function(e){n=e.L},function(e){a=e.S;i=e.D},function(){},function(e){o=e.M},function(e){s=e.c}],execute:function(){var u;var c=new Date(2e3,0,0);var d=new Date(2e3,0,1);var f=d.getTime()-c.getTime();var l=60;var p="OK";var g="ALARM";var m=function(){return[{x:c.getTime()+f/5,y:l/5},{x:c.getTime()+f*2/5,y:l/4},{x:c.getTime()+f*3/5,y:l},{x:c.getTime()+f*4/5,y:l*2}]};var y=function(){return[{x:c.getTime()+f/5,y:p},{x:c.getTime()+f*2/5,y:p},{x:c.getTime()+f*3/5,y:p},{x:c.getTime()+f*4/5,y:g}]};var v=function(){return[{x:c.getTime()+f/5,y:p},{x:c.getTime()+f*2/5,y:p},{x:c.getTime()+f*3/5,y:g},{x:c.getTime()+f*4/5,y:g}]};var h={dataType:i.STRING,resolution:0,id:"speeding-alarm",color:"red",name:"speeding alarm",streamType:a.ALARM};var b={dataType:i.STRING,resolution:0,id:"oil-change-alarm",color:"orange",name:"oil change alarm",streamType:a.ALARM};var O={dataType:i.NUMBER,resolution:0,id:"stream-with-alarms",color:"black",name:"mph",associatedStreams:[{id:h.id,type:a.ALARM},{id:b.id,type:a.ALARM}]};var S={id:O.id,dataType:O.dataType,color:"black",name:"mph",aggregates:(u={},u[o]=m(),u),data:[],resolution:o,associatedStreams:[{id:h.id,type:a.ALARM},{id:h.id,type:a.ALARM}]};var j={id:h.id,color:"red",name:"speeding alarm",streamType:a.ALARM,dataType:h.dataType,data:y(),resolution:0};var w={id:b.id,dataType:b.dataType,data:v(),color:"orange",name:"oil change alarm",streamType:a.ALARM,resolution:0};var x={start:c,end:d};var T={height:500,width:500};var A={position:n.RIGHT,width:200,legendLabels:{title:"Number of data points"}};var N=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))};var E="%[a-f0-9]{2}";var I=new RegExp("("+E+")|([^%]+?)","gi");var k=new RegExp("("+E+")+","gi");function F(e,r){try{return[decodeURIComponent(e.join(""))]}catch(a){}if(e.length===1){return e}r=r||1;var t=e.slice(0,r);var n=e.slice(r);return Array.prototype.concat.call([],F(t),F(n))}function R(e){try{return decodeURIComponent(e)}catch(n){var r=e.match(I)||[];for(var t=1;t<r.length;t++){e=F(r,t).join("");r=e.match(I)||[]}return e}}function C(e){var r={"%FE%FF":"��","%FF%FE":"��"};var t=k.exec(e);while(t){try{r[t[0]]=decodeURIComponent(t[0])}catch(s){var n=R(t[0]);if(n!==t[0]){r[t[0]]=n}}t=k.exec(e)}r["%C2"]="�";var a=Object.keys(r);for(var i=0;i<a.length;i++){var o=a[i];e=e.replace(new RegExp(o,"g"),r[o])}return e}var _=function(e){if(typeof e!=="string"){throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`")}try{e=e.replace(/\+/g," ");return decodeURIComponent(e)}catch(r){return C(e)}};var L=function(e,r){if(!(typeof e==="string"&&typeof r==="string")){throw new TypeError("Expected the arguments to be of type `string`")}if(r===""){return[e]}var t=e.indexOf(r);if(t===-1){return[e]}return[e.slice(0,t),e.slice(t+r.length)]};var D=function(e,r){var t={};var n=Object.keys(e);var a=Array.isArray(r);for(var i=0;i<n.length;i++){var o=n[i];var s=e[o];if(a?r.indexOf(o)!==-1:r(o,s,e)){t[o]=s}}return t};var M=s((function(e,r){var t=function(e){return e===null||e===undefined};function n(e){switch(e.arrayFormat){case"index":return function(r){return function(t,n){var a=t.length;if(n===undefined||e.skipNull&&n===null||e.skipEmptyString&&n===""){return t}if(n===null){return __spreadArrays(t,[[o(r,e),"[",a,"]"].join("")])}return __spreadArrays(t,[[o(r,e),"[",o(a,e),"]=",o(n,e)].join("")])}};case"bracket":return function(r){return function(t,n){if(n===undefined||e.skipNull&&n===null||e.skipEmptyString&&n===""){return t}if(n===null){return __spreadArrays(t,[[o(r,e),"[]"].join("")])}return __spreadArrays(t,[[o(r,e),"[]=",o(n,e)].join("")])}};case"comma":case"separator":return function(r){return function(t,n){if(n===null||n===undefined||n.length===0){return t}if(t.length===0){return[[o(r,e),"=",o(n,e)].join("")]}return[[t,o(n,e)].join(e.arrayFormatSeparator)]}};default:return function(r){return function(t,n){if(n===undefined||e.skipNull&&n===null||e.skipEmptyString&&n===""){return t}if(n===null){return __spreadArrays(t,[o(r,e)])}return __spreadArrays(t,[[o(r,e),"=",o(n,e)].join("")])}}}}function a(e){var r;switch(e.arrayFormat){case"index":return function(e,t,n){r=/\[(\d*)\]$/.exec(e);e=e.replace(/\[\d*\]$/,"");if(!r){n[e]=t;return}if(n[e]===undefined){n[e]={}}n[e][r[1]]=t};case"bracket":return function(e,t,n){r=/(\[\])$/.exec(e);e=e.replace(/\[\]$/,"");if(!r){n[e]=t;return}if(n[e]===undefined){n[e]=[t];return}n[e]=[].concat(n[e],t)};case"comma":case"separator":return function(r,t,n){var a=typeof t==="string"&&t.includes(e.arrayFormatSeparator);var i=typeof t==="string"&&!a&&s(t,e).includes(e.arrayFormatSeparator);t=i?s(t,e):t;var o=a||i?t.split(e.arrayFormatSeparator).map((function(r){return s(r,e)})):t===null?t:s(t,e);n[r]=o};default:return function(e,r,t){if(t[e]===undefined){t[e]=r;return}t[e]=[].concat(t[e],r)}}}function i(e){if(typeof e!=="string"||e.length!==1){throw new TypeError("arrayFormatSeparator must be single character string")}}function o(e,r){if(r.encode){return r.strict?N(e):encodeURIComponent(e)}return e}function s(e,r){if(r.decode){return _(e)}return e}function u(e){if(Array.isArray(e)){return e.sort()}if(typeof e==="object"){return u(Object.keys(e)).sort((function(e,r){return Number(e)-Number(r)})).map((function(r){return e[r]}))}return e}function c(e){var r=e.indexOf("#");if(r!==-1){e=e.slice(0,r)}return e}function d(e){var r="";var t=e.indexOf("#");if(t!==-1){r=e.slice(t)}return r}function f(e){e=c(e);var r=e.indexOf("?");if(r===-1){return""}return e.slice(r+1)}function l(e,r){if(r.parseNumbers&&!Number.isNaN(Number(e))&&(typeof e==="string"&&e.trim()!=="")){e=Number(e)}else if(r.parseBooleans&&e!==null&&(e.toLowerCase()==="true"||e.toLowerCase()==="false")){e=e.toLowerCase()==="true"}return e}function p(e,r){r=Object.assign({decode:true,sort:true,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:false,parseBooleans:false},r);i(r.arrayFormatSeparator);var t=a(r);var n=Object.create(null);if(typeof e!=="string"){return n}e=e.trim().replace(/^[?#&]/,"");if(!e){return n}for(var o=0,c=e.split("&");o<c.length;o++){var d=c[o];if(d===""){continue}var f=L(r.decode?d.replace(/\+/g," "):d,"="),p=f[0],g=f[1];g=g===undefined?null:["comma","separator"].includes(r.arrayFormat)?g:s(g,r);t(s(p,r),g,n)}for(var m=0,y=Object.keys(n);m<y.length;m++){var p=y[m];var g=n[p];if(typeof g==="object"&&g!==null){for(var v=0,h=Object.keys(g);v<h.length;v++){var b=h[v];g[b]=l(g[b],r)}}else{n[p]=l(g,r)}}if(r.sort===false){return n}return(r.sort===true?Object.keys(n).sort():Object.keys(n).sort(r.sort)).reduce((function(e,r){var t=n[r];if(Boolean(t)&&typeof t==="object"&&!Array.isArray(t)){e[r]=u(t)}else{e[r]=t}return e}),Object.create(null))}r.extract=f;r.parse=p;r.stringify=function(e,r){if(!e){return""}r=Object.assign({encode:true,strict:true,arrayFormat:"none",arrayFormatSeparator:","},r);i(r.arrayFormatSeparator);var a=function(n){return r.skipNull&&t(e[n])||r.skipEmptyString&&e[n]===""};var s=n(r);var u={};for(var c=0,d=Object.keys(e);c<d.length;c++){var f=d[c];if(!a(f)){u[f]=e[f]}}var l=Object.keys(u);if(r.sort!==false){l.sort(r.sort)}return l.map((function(t){var n=e[t];if(n===undefined){return""}if(n===null){return o(t,r)}if(Array.isArray(n)){return n.reduce(s(t),[]).join("&")}return o(t,r)+"="+o(n,r)})).filter((function(e){return e.length>0})).join("&")};r.parseUrl=function(e,r){r=Object.assign({decode:true},r);var t=L(e,"#"),n=t[0],a=t[1];return Object.assign({url:n.split("?")[0]||"",query:p(f(e),r)},r&&r.parseFragmentIdentifier&&a?{fragmentIdentifier:s(a,r)}:{})};r.stringifyUrl=function(e,t){t=Object.assign({encode:true,strict:true},t);var n=c(e.url).split("?")[0]||"";var a=r.extract(e.url);var i=r.parse(a,{sort:false});var s=Object.assign(i,e.query);var u=r.stringify(s,t);if(u){u="?"+u}var f=d(e.url);if(e.fragmentIdentifier){f="#"+o(e.fragmentIdentifier,t)}return""+n+u+f};r.pick=function(e,t,n){n=Object.assign({parseFragmentIdentifier:true},n);var a=r.parseUrl(e,n),i=a.url,o=a.query,s=a.fragmentIdentifier;return r.stringifyUrl({url:i,query:D(o,t),fragmentIdentifier:s},n)};r.exclude=function(e,t,n){var a=Array.isArray(t)?function(e){return!t.includes(e)}:function(e,r){return!t(e,r)};return r.pick(e,a,n)}}));var U=M.parse;var J=function(e){return e==="true"};var B=function(e){var r=JSON.parse(e);var t=r.x;var n=function(e){return Object.assign(Object.assign({},e),{value:new Date(e.value)})};return Object.assign(Object.assign({},r),{x:t!=null?t.map(n):undefined})};var q=function(e){return Object.assign(Object.assign({},e),{data:e.data.map((function(e){return{x:Number(e.x),y:e.y}}))})};var $=function(){var e=U(window.location.search);return{alarms:e.alarms?JSON.parse(e.alarms):undefined,width:e.width?JSON.parse(e.width):undefined,axis:e.axis?JSON.parse(e.axis):undefined,height:e.height?JSON.parse(e.height):undefined,duration:e.duration?JSON.parse(e.duration):undefined,errMsg:e.errMsg,gestures:e.gestures!=null?J(e.gestures):true,delayBeforeDataLoads:e.delayBeforeDataLoads!=null?JSON.parse(e.delayBeforeDataLoads):0,dataStreamInfos:e.dataStreamInfos!=null?JSON.parse(e.dataStreamInfos):[],tableColumns:e.tableColumns!=null?JSON.parse(e.tableColumns):[],legend:e.legend!=null?JSON.parse(e.legend):A,messageOverrides:e.messageOverrides!=null?JSON.parse(e.messageOverrides):undefined,componentTag:e.componentTag!=null?e.componentTag:"sc-line-chart",displayInfoNames:e.displayInfoNames?J(e.displayInfoNames):false,annotations:e.annotations!=null?B(e.annotations):undefined,isEditing:e.isEditing!=null?J(e.isEditing):false,hasError:e.hasError!=null?J(e.hasError):false,dataStreams:e.dataStreams!=null?JSON.parse(e.dataStreams).map(q):[],asyncDataStreams:e.asyncDataStreams!=null?JSON.parse(e.asyncDataStreams).map(q):[],viewportStart:e.viewportStart!=null?new Date(e.viewportStart):new Date(2e3,0,0),viewportEnd:e.viewportEnd!=null?new Date(e.viewportEnd):new Date(2e3,0,1)}};var G=700;var H=400;var W=$(),z=W.alarms,K=W.messageOverrides,P=W.width,Q=P===void 0?G:P,V=W.height,X=V===void 0?H:V,Y=W.axis,Z=W.componentTag,ee=W.annotations,re=W.viewportStart,te=W.viewportEnd,ne=W.duration,ae=W.isEditing,ie=W.dataStreams,oe=W.gestures,se=W.legend,ue=W.tableColumns;var ce=function(e){if(typeof e==="string"){return undefined}return Object.assign(Object.assign({},T),{width:Q,height:X})};var de=function(e){if(typeof e==="string"){return e}return e+"px"};var fe=e("widget_test_route",function(){function e(e){r(this,e);this.dataStreamInfos=[];this.component=Z}e.prototype.onWidgetUpdated=function(e){var r=e.detail;if(r.dataStreamInfo){this.dataStreamInfos=r.dataStreamInfo}};e.prototype.render=function(){var e=Object.assign(Object.assign({},x),{start:re,end:te,duration:ne,group:"some-viewport-group"});if(ne!=null){delete e.start;delete e.end}return t("div",{style:{width:de(Q),height:de(X)}},t(this.component,{widgetId:"some-widget-id",dataStreams:ie,isEditing:ae,alarms:z,viewport:e,legend:se,size:ce(Q),axis:Y,tableColumns:ue,annotations:ee,gestures:oe,messageOverrides:K,invalidTagErrorHeader:"invalidComponentTag.header",invalidTagErrorSubheader:"invalidComponentTag.subheader",liveModeOnly:"invalidWidgetForHistoricalData.content"}),t("sc-webgl-context",null))};return e}())}}}));