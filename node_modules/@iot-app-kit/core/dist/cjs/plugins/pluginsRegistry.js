"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getPlugin = exports.registerPlugin = void 0;
/**
 * Internal object to hold all of the plugins.
 *
 * @emarks Not exported to encapsulate the registry
 */
const pluginsRegistry = {
    logger: {
        provider: () => undefined,
    },
    metricsRecorder: {
        provider: () => undefined,
    },
};
/**
 * Registers a plugin under a namespace.
 * @param namespace the namespace to register the plugin
 * @param pluginSetting the setting object of the plugin to register
 *
 * @example
 * // example of a registration and usage of metricsRecorder plugin
 * registerPlugin('metricsRecorder', {
 *   provider: () => ({
 *     // record and console log all metrics
 *     record: (metric) => {
 *       console.log(metric);
 *     },
 *   }),
 * });
 */
function registerPlugin(namespace, pluginSetting) {
    pluginsRegistry[namespace] = pluginSetting;
}
exports.registerPlugin = registerPlugin;
/**
 * Returns the plugin of the given namespace.
 * @param namespace the namespace of the plugin to retrieve
 * @returns the plugin matching the given namespace
 *
 * @example
 * // example of getting metricsRecorder plugin
 * const metricsRecorder = getPlugin('metricsRecorder');
 *
 * metricsRecorder?.record({
 *   metricName: 'test',
 *   metricValue: 123
 * });
 */
function getPlugin(namespace) {
    const plugin = pluginsRegistry[namespace].provider();
    return plugin;
}
exports.getPlugin = getPlugin;
